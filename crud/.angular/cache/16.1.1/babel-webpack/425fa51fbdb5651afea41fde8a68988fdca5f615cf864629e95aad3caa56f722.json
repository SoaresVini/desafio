{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/user-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction EditarUserComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1)(1, \"div\")(2, \"label\", 2);\n    i0.ɵɵtext(3, \"Nome:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\")(6, \"label\", 2);\n    i0.ɵɵtext(7, \"Data de nacimento:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"input\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\")(10, \"label\", 2);\n    i0.ɵɵtext(11, \"Telefone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"input\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\")(14, \"label\", 2);\n    i0.ɵɵtext(15, \"Endere\\u00E7o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"input\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function EditarUserComponent_form_0_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.editarUser());\n    });\n    i0.ɵɵtext(18, \"Confirmar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function EditarUserComponent_form_0_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.deleteUser());\n    });\n    i0.ɵɵtext(20, \"Deletar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.formulario);\n  }\n}\nexport class EditarUserComponent {\n  constructor(service, router, route, formBuilder) {\n    this.service = service;\n    this.router = router;\n    this.route = route;\n    this.formBuilder = formBuilder;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n  }\n  editarUser() {\n    this.aniversario();\n    this.service.editar(this.formulario.value).subscribe(() => {\n      this.router.navigate(['/listarUsers']);\n    });\n  }\n  deleteUser() {\n    const id = this.route.snapshot.paramMap.get('id');\n    this.service.deletar(parseInt(id)).subscribe(() => {\n      this.router.navigate(['/listarUsers']);\n    });\n  }\n  aniversario() {\n    const date = new Date();\n    const dataAniversario = new Date(this.formulario.controls['birthday'].value);\n    const idade = date.getFullYear() - dataAniversario.getFullYear();\n    this.formulario.controls['age'].setValue(idade);\n  }\n}\nEditarUserComponent.ɵfac = function EditarUserComponent_Factory(t) {\n  return new (t || EditarUserComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nEditarUserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditarUserComponent,\n  selectors: [[\"app-editar-user\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[3, \"formGroup\", 4, \"ngIf\"], [3, \"formGroup\"], [\"for\", \"\"], [\"type\", \"text\", \"formControlName\", \"name\"], [\"type\", \"date\", \"formControlName\", \"birthday\", \"id\", \"data\"], [\"type\", \"text\", \"formControlName\", \"phoneNumber\"], [\"type\", \"text\", \"formControlName\", \"address\"], [3, \"click\"]],\n  template: function EditarUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, EditarUserComponent_form_0_Template, 21, 1, \"form\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.formulario);\n    }\n  },\n  dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"form[_ngcontent-%COMP%] {\\n  top: 100px;\\n  left: 0;\\n  right: 0;\\n  bottom: 100px;\\n  position: absolute;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\ninput[_ngcontent-%COMP%] {\\n  margin: 10px;\\n  width: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50ZXMvdXNlcnMvZWRpdGFyLXVzZXIvZWRpdGFyLXVzZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsWUFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiZm9ybXtcbiAgdG9wOiAxMDBweDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMTAwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbmlucHV0e1xuICBtYXJnaW46IDEwcHg7XG4gIHdpZHRoOiAyMDBweDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","EditarUserComponent_form_0_Template_button_click_17_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","editarUser","EditarUserComponent_form_0_Template_button_click_19_listener","ctx_r3","deleteUser","ɵɵproperty","ctx_r0","formulario","EditarUserComponent","constructor","service","router","route","formBuilder","ngOnInit","id","snapshot","paramMap","get","aniversario","editar","value","subscribe","navigate","deletar","parseInt","date","Date","dataAniversario","controls","idade","getFullYear","setValue","ɵɵdirectiveInject","i1","UserService","i2","Router","ActivatedRoute","i3","FormBuilder","selectors","decls","vars","consts","template","EditarUserComponent_Template","rf","ctx","ɵɵtemplate","EditarUserComponent_form_0_Template"],"sources":["/home/joinin/project/desafio/crud/src/app/componentes/users/editar-user/editar-user.component.ts","/home/joinin/project/desafio/crud/src/app/componentes/users/editar-user/editar-user.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { UserService } from 'src/app/service/user-service.service';\n\n@Component({\n  selector: 'app-editar-user',\n  templateUrl: './editar-user.component.html',\n  styleUrls: ['./editar-user.component.scss']\n})\n\nexport class EditarUserComponent {\n  formulario!: FormGroup\n\n  constructor(\n    private service: UserService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private formBuilder: FormBuilder\n  ){}\n\n  ngOnInit(): void {\n\n    const id = this.route.snapshot.paramMap.get('id')\n    \n    )\n  }\n\n  editarUser(){\n    this.aniversario()\n    this.service.editar(this.formulario.value).subscribe(() => {\n      this.router.navigate(['/listarUsers'])\n    })\n  }\n\n  deleteUser(){\n    const id = this.route.snapshot.paramMap.get('id')\n    this.service.deletar(parseInt(id!)).subscribe(()=> {\n      this.router.navigate(['/listarUsers'])\n    })\n  }\n\n  aniversario(){\n\n    const date = new Date()\n    const dataAniversario = new Date(this.formulario.controls['birthday'].value)\n\n    const idade:number = date.getFullYear() - dataAniversario.getFullYear()\n\n    this.formulario.controls['age'].setValue(idade)\n\n\n  }\n\n\n}\n\n","<form [formGroup]=\"formulario\" *ngIf=\"formulario\">\n\n  <div>\n    <label for=\"\">Nome:</label>\n    <input\n      type=\"text\"\n      formControlName=\"name\"\n    >\n  </div>\n\n  <div>\n    <label for=\"\">Data de nacimento:</label>\n    <input\n      type=\"date\"\n      formControlName=\"birthday\"\n      id=\"data\">\n  </div>\n\n  <div>\n    <label for=\"\">Telefone:</label>\n    <input\n      type=\"text\"\n      formControlName=\"phoneNumber\"\n    >\n  </div>\n\n  <div>\n    <label for=\"\">Endereço:</label>\n    <input\n      type=\"text\"\n      formControlName=\"address\"\n    >\n  </div>\n\n  <button (click)=\"editarUser()\">Confirmar</button>\n  <button (click)=\"deleteUser()\">Deletar</button>\n\n</form>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}